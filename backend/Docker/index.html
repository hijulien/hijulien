<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-backend docs-doc-id-Docker/Docker">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Docker | note</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hijulien.github.io/hijulien/backend/Docker/"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-backend-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-backend-current"><meta data-rh="true" property="og:title" content="Docker | note"><meta data-rh="true" name="description" content="Docker为什么出现"><meta data-rh="true" property="og:description" content="Docker为什么出现"><link data-rh="true" rel="icon" href="/hijulien/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hijulien.github.io/hijulien/backend/Docker/"><link data-rh="true" rel="alternate" href="https://hijulien.github.io/hijulien/backend/Docker/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://hijulien.github.io/hijulien/backend/Docker/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/hijulien/blog/rss.xml" title="note RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/hijulien/blog/atom.xml" title="note Atom Feed"><link rel="stylesheet" href="/hijulien/assets/css/styles.d03fc8fd.css">
<link rel="preload" href="/hijulien/assets/js/runtime~main.223637bc.js" as="script">
<link rel="preload" href="/hijulien/assets/js/main.44331553.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/hijulien/"><div class="navbar__logo"><img src="/hijulien/img/julien.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/hijulien/img/julien.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Hi Julien</b></a><a class="navbar__item navbar__link" href="/hijulien/frontend/JavaScript">frontend</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hijulien/backend/Linux">backend</a><a class="navbar__item navbar__link" href="/hijulien/others/Git">others</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" path="docs/something" href="/hijulien/docs/第 1 章 内存与数据结构">小专栏</a><a href="https://github.com/hijulien/notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/hijulien/backend/Linux/Cmd">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/hijulien/backend/Docker/">Docker</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/hijulien/backend/Docker/">Docker</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/hijulien/backend/MySQL/">MySQL</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/hijulien/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Docker</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Docker</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Docker</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker为什么出现">Docker为什么出现<a href="#docker为什么出现" class="hash-link" aria-label="Docker为什么出现的直接链接" title="Docker为什么出现的直接链接">​</a></h2><p>一款产品从开发到上线，从操作系统，到运行环境，再到应用配置。作为开发+运维之间的协作我们需要关心很多东西，这也是很多互联网公司都不得不面对的问题，特别是各种版本的迭代之后，不同版本环境的兼容，对运维人员是极大的考验！环境配置如此麻烦，换一台机器，就要重来一次，费力费时。很多人想到，能不能从根本上解决问题，软件可以带环境安装？也就是说，安装的时候，把原始环境一模一样地复制过来。解决开发人员说的“ 在我的机器上可正常工作”的问题。之前在服务器配置一个应用的运行环境，要安装各种软件，就拿一个基本的工程项目的环境来说吧，Java/Tomcat/MySQL/JDBC驱动包等。安装和配置这些东西有多麻烦就不说了，它还不能跨平台。假如我们是在 Windows 上安装的这些环境，到了 Linux 又得重新装。况且就算不跨操作系统，换另一台同样操作系统的服务器，要移植应用也是非常麻烦的。传统上认为，软件编码开发/测试结束后，所产出的成果即是程序或是能够编译执行的二进制字节码文件等（Java为例）。而为了让这些程序可以顺利执行，开发团队也得准备完整的部署文件，让维运团队得以部署应用程式，开发需要清楚的告诉运维部署团队，用的全部配置文件+所有软件环境。不过，即便如此，仍然常常发生部署失败的状况。</p><p>Docker之所以发展如此迅速，也是因为它对此给出了一个标准化的解决方案。</p><p>Docker镜像的设计，使得Docker得以打破过去「程序即应用」的观念。通过Docker镜像 ( images ) 将应用程序所需要的系统环境，由下而上打包，达到应用程序跨平台间的无缝接轨运作。</p><p><img loading="lazy" src="/hijulien/assets/images/image2-edd76c6a3c28f1b12938b4c7553cfb26.png" width="449" height="240" class="img_ev3q"></p><p>Docker的思想来自于集装箱，集装箱解决了什么问题？在一艘大船上，可以把货物规整的摆放起来。并且各种各样的货物被集装箱标准化了，集装箱和集装箱之间不会互相影响。那么我就不需要专门运送水果的船和专门运送化学品的船了。只要这些货物在集装箱里封装的好好的，那我就可以用一艘大船把他们都运走。</p><p>docker就是类似的理念。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="历史">历史<a href="#历史" class="hash-link" aria-label="历史的直接链接" title="历史的直接链接">​</a></h2><p>2010年，几个搞IT的年轻人，在美国旧金山成立了一家名叫“dotCloud”的公司。</p><p>这家公司主要提供基于PaaS的云计算技术服务。具体来说，是和LXC有关的容器技术。</p><p>后来，dotCloud公司将自己的容器技术进行了简化和标准化，并命名为——<strong>Docker</strong>。</p><p>Docker技术诞生之后，并没有引起行业的关注。而dotCloud公司，作为一家小型创业企业，在激烈的竞争之下，也步履维艰。</p><p>正当他们快要坚持不下去的时候，脑子里蹦出了“开源”的想法。</p><p>什么是“开源”？开源，就是开放源代码。也就是将原来内部保密的程序源代码开放给所有人，然后让大家一起参与进来，贡献代码和意见。</p><p>有的软件是一开始就开源的。也有的软件，是混不下去，创造者又不想放弃，所以选择开源。自己养不活，就吃“百家饭”嘛。</p><p>2013年3月，dotCloud公司的创始人之一，Docker之父，28岁的<strong>Solomon Hykes</strong>正式决定，将Docker项目开源。</p><p>不开则已，一开惊人。</p><p>越来越多的IT工程师发现了Docker的优点，然后蜂拥而至，加入Docker开源社区。</p><p>Docker的人气迅速攀升，速度之快，令人瞠目结舌。</p><p>开源当月，Docker 0.1 版本发布。此后的每一个月，Docker都会发布一个版本。到2014年6月9日，</p><p>Docker 1.0 版本正式发布。</p><p>此时的Docker，已经成为行业里人气最火爆的开源技术，没有之一。甚至像Google、微软、Amazon、</p><p>VMware这样的巨头，都对它青睐有加，表示将全力支持。</p><p>Docker和容器技术为什么会这么火爆？说白了，就是因为它“轻”。</p><p>在容器技术之前，业界的网红是<strong>虚拟机</strong>。虚拟机技术的代表，是<strong>VMWare</strong>和<strong>OpenStack</strong>。相信很多人都用过虚拟机。虚拟机，就是在你的操作系统里面，装一个软件，然后通过这个软件，再模拟一台甚至多台“子电脑”出来。</p><p>在“子电脑”里，你可以和正常电脑一样运行程序，例如开QQ。如果你愿意，你可以变出好几个“子电脑”，里面都开上QQ。“子电脑”和“子电脑”之间，是<strong>相互隔离</strong>的，互不影响。</p><p>虚拟机属于虚拟化技术。而Docker这样的容器技术，也是虚拟化技术，属于<strong>轻量级的虚拟化</strong>。</p><p>虚拟机虽然可以隔离出很多“子电脑”，但占用空间更大，启动更慢，虚拟机软件可能还要花钱（例如VMWare）。</p><p>而容器技术恰好没有这些缺点。它不需要虚拟出整个操作系统，只需要虚拟一个小规模的环境（类似“沙 箱”）。</p><p>它启动时间很快，几秒钟就能完成。而且，它对资源的利用率很高（一台主机可以同时运行几千个Docker容器）。此外，它占的空间很小，虚拟机一般要几GB到几十GB的空间，而容器只需要MB级甚至KB级。正因为如此，容器技术受到了热烈的欢迎和追捧，发展迅速。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker理念">docker理念<a href="#docker理念" class="hash-link" aria-label="docker理念的直接链接" title="docker理念的直接链接">​</a></h2><p>Docker是基于Go语言实现的云开源项目。</p><p>Docker的主要目标是“Build，Ship and Run Any App , Anywhere”，也就是通过对应用组件的封装、分发、部署、运行等生命周期的管理，使用户的APP（可以是一个WEB应用或数据库应用等等）及其运行环境能够做到“一次封装，到处运行”。</p><p>Linux 容器技术的出现就解决了这样一个问题，而 Docker 就是在它的基础上发展过来的。将应用运行在Docker 容器上面，而 Docker 容器在任何操作系统上都是一致的，这就实现了跨平台、跨服务器。只需要一次配置好环境，换到别的机子上就可以一键部署好，大大简化了操作。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker作用">docker作用<a href="#docker作用" class="hash-link" aria-label="docker作用的直接链接" title="docker作用的直接链接">​</a></h2><p>虚拟机（virtual machine）就是带环境安装的一种解决方案。
它可以在一种操作系统里面运行另一种操作系统，比如在Windows 系统里面运行Linux 系统。应用程序对此毫无感知，因为虚拟机看上去跟真实系统一模一样，而对于底层系统来说，虚拟机就是一个普通文件，不需要了就删掉，对其他部分毫无影响。这类虚拟机完美的运行了另一套系统，能够使应用程序，操作系统和硬件三者之间的逻辑不变。</p><p><img loading="lazy" alt="../" src="data:image/png;base64,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" width="337" height="421" class="img_ev3q"></p><p>虚拟机的缺点：</p><p>1、资源占用多
2、冗余步骤多
3 、启动慢</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="容器虚拟化技术">容器虚拟化技术<a href="#容器虚拟化技术" class="hash-link" aria-label="容器虚拟化技术的直接链接" title="容器虚拟化技术的直接链接">​</a></h2><p>由于前面虚拟机存在这些缺点，Linux 发展出了另一种虚拟化技术：Linux 容器（Linux Containers，缩写为 LXC）。
Linux 容器不是模拟一个完整的操作系统，而是对进程进行隔离。有了容器，就可以将软件运行所需的所有资源打包到一个隔离的容器中。容器与虚拟机不同，不需要捆绑一整套操作系统，只需要软件工作所需的库资源和设置。系统因此而变得高效轻量并保证部署在任何环境中的软件都能始终如一地运行。</p><p><img loading="lazy" src="/hijulien/assets/images/image4-22c3a1685b7ec0e870a5880643061818.png" width="313" height="402" class="img_ev3q"></p><p> Docker 和传统虚拟化方式的不同之处：</p><p>(1) 传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程；</p><p>(2) 而容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核，而且也没有进行硬件虚拟。因此容器要比传统虚拟机更为轻便。</p><p>(3) 每个容器之间互相隔离，每个容器有自己的文件系统 ，容器之间进程不会相互影响，能区分计算资源。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="开发运维devops">开发/运维（DevOps）<a href="#开发运维devops" class="hash-link" aria-label="开发/运维（DevOps）的直接链接" title="开发/运维（DevOps）的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="更快速的应用交付和部署">更快速的应用交付和部署:<a href="#更快速的应用交付和部署" class="hash-link" aria-label="更快速的应用交付和部署:的直接链接" title="更快速的应用交付和部署:的直接链接">​</a></h3><p>传统的应用开发完成后，需要提供一堆安装程序和配置说明文档，安装部署后需根据配置文档进行繁杂的配置才能正常运行。Docker化之后只需要交付少量容器镜像文件，在正式生产环境加载镜像并运行即可，应用安装配置在镜像里已经内置好，大大节省部署配置和测试验证时间。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="更便捷的升级和扩缩容">更便捷的升级和扩缩容：<a href="#更便捷的升级和扩缩容" class="hash-link" aria-label="更便捷的升级和扩缩容：的直接链接" title="更便捷的升级和扩缩容：的直接链接">​</a></h3><p>随着微服务架构和Docker的发展，大量的应用会通过微服务方式架构，应用的开发构建将变成搭乐高积木一样，每个Docker容器将变成一块“积木”，应用的升级将变得非常容易。当现有的容器不足以支撑业务处理时，可通过镜像运行新的容器进行快速扩容，使应用系统的扩容从原先的天级变成分钟级甚至秒级。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="更简单的系统运维">更简单的系统运维：<a href="#更简单的系统运维" class="hash-link" aria-label="更简单的系统运维：的直接链接" title="更简单的系统运维：的直接链接">​</a></h3><p>应用容器化运行后，生产环境运行的应用可与开发、测试环境的应用高度一致，容器会将应用程序相关的环境和状态完全封装起来，不会因为底层基础架构和操作系统的不一致性给应用带来影响，产生新的BUG。当出现程序异常时，也可以通过测试环境的相同容器进行快速定位和修复。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="更高效的计算资源利用">更高效的计算资源利用：<a href="#更高效的计算资源利用" class="hash-link" aria-label="更高效的计算资源利用：的直接链接" title="更高效的计算资源利用：的直接链接">​</a></h3><p>Docker是内核级虚拟化，其不像传统的虚拟化技术一样需要额外的Hypervisor <!-- -->[管理程序]<!-- --> 支持，所以在一台物理机上可以运行很多个容器实例，可大大提升物理服务器的CPU和内存的利用率。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="学习途径">学习途径<a href="#学习途径" class="hash-link" aria-label="学习途径的直接链接" title="学习途径的直接链接">​</a></h2><p>Docker官网：<a href="http://www.docker.com" target="_blank" rel="noopener noreferrer">http://www.docker.com</a>
Docker中文网站：<a href="https://www.docker-cn.com" target="_blank" rel="noopener noreferrer">https://www.docker-cn.com</a>
Docker Hub官网：<a href="https://hub.docker.com" target="_blank" rel="noopener noreferrer">https://hub.docker.com</a> （仓库）</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker组成">docker组成<a href="#docker组成" class="hash-link" aria-label="docker组成的直接链接" title="docker组成的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker的架构图">Docker的架构图<a href="#docker的架构图" class="hash-link" aria-label="Docker的架构图的直接链接" title="Docker的架构图的直接链接">​</a></h3><p><img loading="lazy" src="/hijulien/assets/images/image9-ae35b0eba91dbfdfaafee63306623fd6.png" width="848" height="403" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="镜像image">镜像（image）：<a href="#镜像image" class="hash-link" aria-label="镜像（image）：的直接链接" title="镜像（image）：的直接链接">​</a></h3><p>Docker 镜像（Image）就是一个只读的模板。镜像可以用来创建 Docker 容器，一个镜像可以创建很 多容器。 就好似 Java 中的 类和对象，类就是镜像，容器就是对象！</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="容器container">容器（container）：<a href="#容器container" class="hash-link" aria-label="容器（container）：的直接链接" title="容器（container）：的直接链接">​</a></h3><p>Docker 利用容器（Container）独立运行的一个或一组应用。容器是用镜像创建的运行实例。</p><p>它可以被启动、开始、停止、删除。每个容器都是相互隔离的，保证安全的平台。</p><p>可以把容器看做是一个简易版的 Linux 环境（包括root用户权限、进程空间、用户空间和网络空间等） 和运行在其中的应用程序。</p><p>容器的定义和镜像几乎一模一样，也是一堆层的统一视角，唯一区别在于容器的最上面那一层是可读可写的。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="仓库repository">仓库（repository）：<a href="#仓库repository" class="hash-link" aria-label="仓库（repository）：的直接链接" title="仓库（repository）：的直接链接">​</a></h3><p>仓库（Repository）是集中存放镜像文件的场所。</p><p>仓库(Repository)和仓库注册服务器（Registry）是有区别的。仓库注册服务器上往往存放着多个仓 库，每个仓库中又包含了多个镜像，每个镜像有不同的标签（tag）。</p><p>仓库分为公开仓库（Public）和私有仓库（Private）两种形式。</p><p>最大的公开仓库是 Docker Hub(<a href="https://hub.docker.com/)%EF%BC%8C%E5%AD%98%E6%94%BE%E4%BA%86%E6%95%B0%E9%87%8F%E5%BA%9E%E5%A4%A7%E7%9A%84%E9%95%9C%E5%83%8F%E4%BE%9B%E7%94%A8%E6%88%B7%E4%B8%8B%E8%BD%BD%E3%80%82" target="_blank" rel="noopener noreferrer">https://hub.docker.com/)，存放了数量庞大的镜像供用户下载。</a> 国内的公开仓库包括阿里云 、网易云等。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker-run-hello-world-工作流程">docker run hello-world 工作流程<a href="#docker-run-hello-world-工作流程" class="hash-link" aria-label="docker run hello-world 工作流程的直接链接" title="docker run hello-world 工作流程的直接链接">​</a></h2><p><img loading="lazy" src="/hijulien/assets/images/image12-9efca60776722994c2573c2f576eb4d4.png" width="860" height="413" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker是怎么工作的">Docker是怎么工作的<a href="#docker是怎么工作的" class="hash-link" aria-label="Docker是怎么工作的的直接链接" title="Docker是怎么工作的的直接链接">​</a></h2><p>Docker是一个Client-Server结构的系统，Docker守护进程运行在主机上， 然后通过Socket连接从客户端访问，守护进程从客户端接受命令并管理运行在主机上的容器。 容器，是一个运行时环境，就是我们前面说到的集装箱。</p><p><img loading="lazy" src="/hijulien/assets/images/image13-3560fa5fa9a7aaf30e5de2fc40234654.png" width="539" height="557" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker为什么比vm-快">Docker为什么比VM 快<a href="#docker为什么比vm-快" class="hash-link" aria-label="Docker为什么比VM 快的直接链接" title="Docker为什么比VM 快的直接链接">​</a></h2><ol><li>docker有着比虚拟机更少的抽象层。由亍docker不需要Hypervisor实现硬件资源虚拟化,运行在docker容器上的程序直接使用的都是实际物理机的硬件资源。因此在CPU、内存利用率上docker将会在效率上有明显优势。</li><li>docker利用的是宿主机的内核,而不需要Guest OS。因此,当新建一个容器时,docker不需要和虚拟机一样重新加载一个操作系统内核。仍而避免引寻、加载操作系统内核返个比较费时费资源的过程,当新建一个虚拟机时,虚拟机软件需要加载Guest OS,返个新建过程是分钟级别的。而docker由于直接利用宿主机的操作系统,则省略了返个过程,因此新建一个docker容器只需要几秒钟。</li></ol><p><img loading="lazy" src="/hijulien/assets/images/image14-f36b2f08108116c5051ef43a238e12a4.png" width="1059" height="591" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="小结">小结：<a href="#小结" class="hash-link" aria-label="小结：的直接链接" title="小结：的直接链接">​</a></h3><p>需要正确的理解仓储/镜像/容器这几个概念 :</p><ol><li>Docker 本身是一个容器运行载体或称之为管理引擎。我们把应用程序和配置依赖打包好形成一个可交付的运行环境，这个打包好的运行环境就是image镜像文件。只有通过这个镜像文件才能生成 Docker 容器。image 文件可以看作是容器的模板。Docker 根据 image 文件生成容器的实例。同一个 image 文件，可以生成多个同时运行的容器实例。</li><li>image 文件生成的容器实例，本身也是一个文件，称为镜像文件。</li><li>一个容器运行一种服务，当我们需要的时候，就可以通过docker客户端创建一个对应的运行实例，
也就是我们的容器</li><li>至于仓库，就是放了一堆镜像的地方，我们可以把镜像发布到仓库中，需要的时候从仓库中拉下来
就可以了。</li></ol><h1>Docker常用命令</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="帮助命令">帮助命令<a href="#帮助命令" class="hash-link" aria-label="帮助命令的直接链接" title="帮助命令的直接链接">​</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker version # 显示 Docker 版本信息。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker info # 显示 Docker 系统信息，包括镜像和容器数。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker --help # 帮助</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="镜像命令">镜像命令<a href="#镜像命令" class="hash-link" aria-label="镜像命令的直接链接" title="镜像命令的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-images">docker images<a href="#docker-images" class="hash-link" aria-label="docker images的直接链接" title="docker images的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 列出本地主机上的镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker images </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">REPOSITORY TAG IMAGE ID CREATED SIZE </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello-world latest bf756fb1ae65 4 months ago 13.3kB </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 解释 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">REPOSITORY 镜像的仓库源 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TAG 镜像的标签 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IMAGE ID </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">镜像的ID CREATED 镜像创建时间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SIZE 镜像大小 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 同一个仓库源可以有多个 TAG，代表这个仓库源的不同版本，我们使用REPOSITORY：TAG 定义不同 的镜像，如果你不定义镜像的标签版本，docker将默认使用 lastest 镜像！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 可选项 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a： 列出本地所有镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-q： 只显示镜像id </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--digests： 显示镜像的摘要信息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-search">docker search<a href="#docker-search" class="hash-link" aria-label="docker search的直接链接" title="docker search的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 搜索镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker search mysql </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME DESCRIPTION STARS OFFICIAL mysql MySQL is a widely used, open-source relation… 9484 [OK] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># docker search 某个镜像的名称 对应DockerHub仓库中的镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 可选项 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--filter=stars=50 ： 列出收藏数不小于指定值的镜像。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-pull">docker pull<a href="#docker-pull" class="hash-link" aria-label="docker pull的直接链接" title="docker pull的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 下载镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker pull mysql </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using default tag: latest # 不写tag，默认是latest </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">latest: Pulling from library/mysql </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">54fec2fa59d0: Already exists # 分层下载 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bcc6c6145912: Already exists </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">951c3d959c9d: Already exists </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">05de4d0e206e: Already exists </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">319f0394ef42: Already exists </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d9185034607b: Already exists </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">013a9c64dadc: Already exists </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">42f3f7d10903: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c4a3851d9207: Pull complete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">82a1cc65c182: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a0a6b01efa55: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bca5ce71f9ea: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Digest: sha256:61a2a33f4b8b4bc93b7b6b9e65e64044aaec594809f818aeffbff69a893d1944 # 签名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Status: Downloaded newer image for mysql:latest </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker.io/library/mysql:latest # 真实位置 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 指定版本下载 [root@kuangshen ~]# docker pull mysql:5.7</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-rmi">docker rmi<a href="#docker-rmi" class="hash-link" aria-label="docker rmi的直接链接" title="docker rmi的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 删除镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rmi -f 镜像id # 删除单个</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rmi -f 镜像名:tag 镜像名:tag # 删除多个 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rmi -f $(docker images -qa) # 删除全部</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="容器命令">容器命令<a href="#容器命令" class="hash-link" aria-label="容器命令的直接链接" title="容器命令的直接链接">​</a></h2><p>说明：有镜像才能创建容器，我们这里使用 centos 的镜像来测试，就是虚拟一个 centos ！</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker pull centos</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="新建容器并启动">新建容器并启动<a href="#新建容器并启动" class="hash-link" aria-label="新建容器并启动的直接链接" title="新建容器并启动的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run [OPTIONS] IMAGE [COMMAND][ARG...] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 常用参数说明 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--name=&quot;Name&quot; # 给容器指定一个名字 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d # 后台方式运行容器，并返回容器的id！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i # 以交互模式运行容器，通过和 -t 一起使用 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-t # 给容器重新分配一个终端，通常和 -i 一起使用 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-P # 随机端口映射（大写） </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p # 指定端口映射（小结），一般可以有四种写法 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ip:hostPort:containerPort </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ip::containerPort </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hostPort:containerPort (常用) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containerPort </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker images </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">REPOSITORY TAG IMAGE ID CREATED SIZE </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centos latest 470671670cac 3 months ago 237MB </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用centos进行用交互模式启动容器，在容器内执行/bin/bash命令！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker run -it centos /bin/bash </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@dc8f24dd06d0 /]# ls # 注意地址，已经切换到容器内部了！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bin etc lib lost+found mnt proc run srv tmp var dev home lib64 media opt root sbin sys usr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@dc8f24dd06d0 /]# exit   # 使用 exit 退出容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="列出所有运行的容器">列出所有运行的容器<a href="#列出所有运行的容器" class="hash-link" aria-label="列出所有运行的容器的直接链接" title="列出所有运行的容器的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker ps [OPTIONS] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 常用参数说明 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a # 列出当前所有正在运行的容器 + 历史运行过的容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-l # 显示最近创建的容器 -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">n=? # 显示最近n个创建的容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-q # 静默模式，只显示容器编号。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="退出容器">退出容器<a href="#退出容器" class="hash-link" aria-label="退出容器的直接链接" title="退出容器的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">exit # 容器停止退出 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctrl+P+Q # 容器不停止退出</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动停止容器">启动停止容器<a href="#启动停止容器" class="hash-link" aria-label="启动停止容器的直接链接" title="启动停止容器的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker start (容器id or 容器名) # 启动容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker restart (容器id or 容器名) # 重启容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker stop (容器id or 容器名) # 停止容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker kill (容器id or 容器名) # 强制停止容器</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="删除容器">删除容器<a href="#删除容器" class="hash-link" aria-label="删除容器的直接链接" title="删除容器的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker rm 容器id # 删除指定容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f $(docker ps -a -q) # 删除所有容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker ps -a -q|xargs docker rm # 删除所有容器</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="常用其他命令">常用其他命令<a href="#常用其他命令" class="hash-link" aria-label="常用其他命令的直接链接" title="常用其他命令的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="后台启动容器">后台启动容器<a href="#后台启动容器" class="hash-link" aria-label="后台启动容器的直接链接" title="后台启动容器的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d 容器名 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 例子 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d centos # 启动centos，使用后台方式启动 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 问题： 使用docker ps 查看，发现容器已经退出了！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 解释：Docker容器后台运行，就必须有一个前台进程，容器运行的命令如果不是那些一直挂起的命 令，就会自动退出。 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 比如，你运行了nginx服务，但是docker前台没有运行应用，这种情况下，容器启动后，会立即自 杀，因为他觉得没有程序了，所以最好的情况是，将你的应用使用前台进程的方式运行启动。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看日志">查看日志<a href="#查看日志" class="hash-link" aria-label="查看日志的直接链接" title="查看日志的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs -f -t --tail 容器id </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 例子：我们启动 centos，并编写一段脚本来测试玩玩！最后查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker run -d centos /bin/sh -c &quot;while true;do echo kuangshen;sleep 1;done&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker ps </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONTAINER ID IMAGE </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c8530dbbe3b4 centos </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># -t 显示时间戳 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># -f 打印最新的日志 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># --tail 数字 显示多少条！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker logs -tf --tail 10 c8530dbbe3b4 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:40.656901941Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:41.658765018Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:42.661015375Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:43.662865628Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:44.664571547Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:45.666718583Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:46.668556725Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:47.670424699Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:48.672324512Z kuangshen </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-05-11T08:46:49.674092766Z kuangshen</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看容器中运行的进程信息支持-ps-命令参数">查看容器中运行的进程信息，支持 ps 命令参数。<a href="#查看容器中运行的进程信息支持-ps-命令参数" class="hash-link" aria-label="查看容器中运行的进程信息，支持 ps 命令参数。的直接链接" title="查看容器中运行的进程信息，支持 ps 命令参数。的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker top 容器id </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker top c8530dbbe3b4 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UID PID PPID C STIME TTY TIME CMD </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root 27437 27421 0 16:43 ? 00:00:00 /bin/sh -c ....</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看容器镜像的元数据">查看容器/镜像的元数据<a href="#查看容器镜像的元数据" class="hash-link" aria-label="查看容器/镜像的元数据的直接链接" title="查看容器/镜像的元数据的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker inspect 容器id </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker inspect </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c8530dbbe3b4 [ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # 完整的id，有意思啊，这里上面的容器id，就是截取的这个id前几位！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;Id&quot;: &quot;c8530dbbe3b44a0c873f2566442df6543ed653c1319753e34b400efa05f77cf8&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;Created&quot;: &quot;2020-05-11T08:43:45.096892382Z&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;Path&quot;: &quot;/bin/sh&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;Args&quot;: [ &quot;-c&quot;, &quot;while true;do echo kuangshen;sleep 1;done&quot; ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # 状态 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;State&quot;: { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;Status&quot;: &quot;running&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;Running&quot;: true, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;Paused&quot;: false, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;Restarting&quot;: false, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;OOMKilled&quot;: false, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;Pid&quot;: 27437, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;ExitCode&quot;: 0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;Error&quot;: &quot;&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;StartedAt&quot;: &quot;2020-05-11T08:43:45.324474622Z&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            // ........... </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="进入正在运行的容器">进入正在运行的容器<a href="#进入正在运行的容器" class="hash-link" aria-label="进入正在运行的容器的直接链接" title="进入正在运行的容器的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it 容器id bashShell </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker ps </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c8530dbbe3b4 centos &quot;/bin/sh -c &#x27;while t…&quot; 12 minutes ago Up 12 minutes happy_chaum </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker exec -it c8530dbbe3b4 /bin/bash </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@c8530dbbe3b4 /]# ps -ef </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UID PID PPID C STIME TTY TIME CMD </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root 1 0 0 08:43 ? 00:00:00 /bin/sh -c while true;do </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo kuangshen;sleep </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root 751 0 0 08:56 pts/0 00:00:00 /bin/bash </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root 769 1 0 08:56 ? 00:00:00 /usr/bin/coreutils -- </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    coreutils-prog-shebang=s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root 770 751 0 08:56 pts/0 00:00:00 ps -ef </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 命令2 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker attach 容器id </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试2 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker exec -it </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c8530dbbe3b4 /bin/bash </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [root@c8530dbbe3b4 /]# ps -ef </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UID PID PPID C STIME TTY TIME CMD </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root 1 0 0 08:43 ? 00:00:00 /bin/sh -c while true;do </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo kuangshen;sleep </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root 856 0 0 08:57 pts/0 00:00:00 /bin/bash root 874 1 0 08:57 ? 00:00:00 /usr/bin/coreutils -- </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    coreutils-prog-shebang=s </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root 875 856 0 08:57 pts/0 00:00:00 ps -ef </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 区别 # exec 是在容器中打开新的终端，并且可以启动新的进程 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># attach 直接进入容器启动命令的终端，不会启动新的进程</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="从容器内拷贝文件到主机上">从容器内拷贝文件到主机上<a href="#从容器内拷贝文件到主机上" class="hash-link" aria-label="从容器内拷贝文件到主机上的直接链接" title="从容器内拷贝文件到主机上的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker cp 容器id:容器内路径 目的主机路径 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 容器内执行，创建一个文件测试 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@c8530dbbe3b4 /]# cd /home </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@c8530dbbe3b4 home]# touch f1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@c8530dbbe3b4 home]# ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@c8530dbbe3b4 home]# exit </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># linux复制查看，是否复制成功 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker cp c8530dbbe3b4:/home/f1 /home </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# cd /home </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen home]# ls </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="小结-1">小结<a href="#小结-1" class="hash-link" aria-label="小结的直接链接" title="小结的直接链接">​</a></h2><p><img loading="lazy" src="/hijulien/assets/images/image16-c5ae2924e532cbc899ae933d511401c7.png" width="861" height="596" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令">常用命令<a href="#常用命令" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">attach  Attach to a running container    # 当前 shell 下 attach 连接指定运行镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">build  Build an image from a Dockerfile  # 通过 Dockerfile 定 制镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit Create a new image from a container changes # 提交当前容器为新的镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp Copy files/folders from the containers filesystem to the host path #从容器中拷贝指定文件或者目录到宿主机中 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create Create a new container # 创建一个新的容器，同 run，但不启动容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diff Inspect changes on a container&#x27;s filesystem # 查看 docker 容器变化 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">events Get real time events from the server # 从 docker 服务获取容 器实时事件 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exec Run a command in an existing container # 在已存在的容器上运行命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export Stream the contents of a container as a tar archive # 导出容器的内 容流作为一个 tar 归档文件[对应 import ] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">history Show the history of an image # 展示一个镜像形成历史 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">images List images # 列出系统当前镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import Create a new filesystem image from the contents of a tarball # 从 tar包中的内容创建一个新的文件系统映像[对应export] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">info Display system-wide information # 显示系统相关信息 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">inspect Return low-level information on a container # 查看容器详细信息 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kill Kill a running container # kill 指定 docker 容 器load Load an image from a tar archive # 从一个 tar 包中加载一 个镜像[对应 save]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">login Register or Login to the docker registry server # 注册或者登陆一个 docker 源服务器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logout Log out from a Docker registry server # 从当前 Docker registry 退出 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logs Fetch the logs of a container # 输出当前容器日志信息 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port Lookup the public-facing port which is NAT-ed to PRIVATE_PORT # 查看映射端口对应的容器内部源端口 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pause Pause all processes within a container # 暂停容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ps List containers # 列出容器列表 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pull Pull an image or a repository from the docker registry server # 从docker镜像源服务器拉取指定镜像或者库镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">push Push an image or a repository to the docker registry server # 推送指定镜像或者库镜像至docker源服务器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">restart Restart a running container # 重启运行的容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm Remove one or more containers # 移除一个或者多个容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rmi Remove one or more images # 移除一个或多个镜像[无容器使用该 镜像才可删除，否则需删除相关容器才可继续或 -f 强制删除] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">run Run a command in a new container # 创建一个新的容器并运行 一个命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">save Save an image to a tar archive # 保存一个镜像为一个 tar 包[对应 load] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">search Search for an image on the Docker Hub # 在 docker hub 中搜 索镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start Start a stopped containers # 启动容器 stop Stop a running containers # 停止容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tag Tag an image into a repository # 给源中镜像打标签 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">top Lookup the running processes of a container # 查看容器中运行的进程信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unpause Unpause a paused container # 取消暂停容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version Show the docker version information # 查看 docker 版本号 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wait Block until a container stops, then print its exit code # 截取容 器停止时的退出状态值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Docker镜像</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="镜像是什么">镜像是什么<a href="#镜像是什么" class="hash-link" aria-label="镜像是什么的直接链接" title="镜像是什么的直接链接">​</a></h2><p>镜像是一种轻量级、可执行的独立软件包，用来打包软件运行环境和基于运行环境开发的软件，它包含运行某个软件所需的所有内容，包括代码、运行时、库、环境变量和配置文件。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="unionfs-联合文件系统">UnionFS （联合文件系统）<a href="#unionfs-联合文件系统" class="hash-link" aria-label="UnionFS （联合文件系统）的直接链接" title="UnionFS （联合文件系统）的直接链接">​</a></h2><p>UnionFS（联合文件系统）：Union文件系统（UnionFS）是一种分层、轻量级并且高性能的文件系统，它支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下(unite several directories into a single virtual filesystem)。Union 文件系统是 Docker 镜像的基础。镜像可以通过分层来进行继承，基于基础镜像（没有父镜像），可以制作各种具体的应用镜像。</p><p>特性：一次同时加载多个文件系统，但从外面看起来，只能看到一个文件系统，联合加载会把各层文件系统叠加起来，这样最终的文件系统会包含所有底层的文件和目录</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker镜像加载原理">Docker镜像加载原理<a href="#docker镜像加载原理" class="hash-link" aria-label="Docker镜像加载原理的直接链接" title="Docker镜像加载原理的直接链接">​</a></h2><p>docker的镜像实际上由一层一层的文件系统组成，这种层级的文件系统UnionFS。</p><p>bootfs(boot file system)主要包含bootloader和kernel, bootloader主要是引导加载kernel, Linux刚启动时会加载bootfs文件系统，在Docker镜像的最底层是bootfs。这一层与我们典型的Linux/Unix系统是一样的，包含boot加载器和内核。当boot加载完成之后整个内核就都在内存中了，此时内存的使用权已由bootfs转交给内核，此时系统也会卸载bootfs。 rootfs (root file system) ，在bootfs之上。包含的就是典型 Linux 系统中的 /dev, /proc, /bin, /etc 等标准目录和文件。</p><p>rootfs就是各种不同的操作系统发行版，比如Ubuntu，Centos等等。</p><p><img loading="lazy" src="/hijulien/assets/images/image21-e1c7578145cf905eb4c3ce5bc0bb90e7.png" width="712" height="240" class="img_ev3q"></p><p>平时我们安装进虚拟机的CentOS都是好几个G，为什么Docker这里才200M？</p><p><img loading="lazy" src="data:image/png;base64,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" width="1220" height="95" class="img_ev3q"></p><p>对于一个精简的OS，rootfs 可以很小，只需要包含最基本的命令，工具和程序库就可以了，因为底层直接用Host的kernel，自己只需要提供rootfs就可以了。由此可见对于不同的linux发行版, bootfs基本是一致的, rootfs会有差别, 因此不同的发行版可以公用bootfs。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="分层的镜像">分层的镜像<a href="#分层的镜像" class="hash-link" aria-label="分层的镜像的直接链接" title="分层的镜像的直接链接">​</a></h2><p>我们可以去下载一个镜像，注意观察下载的日志输出，可以看到是一层一层的在下载！</p><p><img loading="lazy" src="/hijulien/assets/images/image23-dc4d9d0d13f5ed8163bcaf791a34c1c6.png" width="1307" height="334" class="img_ev3q"></p><p>思考：为什么Docker镜像要采用这种分层的结构呢？</p><p>最大的好处，我觉得莫过于是资源共享了！比如有多个镜像都从相同的Base镜像构建而来，那么宿主机只需在磁盘上保留一份base镜像，同时内存中也只需要加载一份base镜像，这样就可以为所有的容器务了，而且镜像的每一层都可以被共享。</p><p>查看镜像分层的方式可以通过 docker image inspect 命令！</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen home]# docker image inspect redis:latest </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ // ..... </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;RootFS&quot;: { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;Type&quot;: &quot;layers&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;Layers&quot;: [ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                   &quot;sha256:c2adabaecedbda0af72b153c6499a0555f3a769d52370469d8f6bd6328af9b13&quot;,                                                   &quot;sha256:744315296a49be711c312dfa1b3a80516116f78c437367ff0bc678da1123e990&quot;,                                                  &quot;sha256:379ef5d5cb402a5538413d7285b21aa58a560882d15f1f553f7868dc4b66afa8&quot;,                                                  &quot;sha256:d00fd460effb7b066760f97447c071492d471c5176d05b8af1751806a1f905f8&quot;,                                                  &quot;sha256:4d0c196331523cfed7bf5bafd616ecb3855256838d850b6f3d5fba911f6c4123&quot;,                                                  &quot;sha256:98b4a6242af2536383425ba2d6de033a510e049d9ca07ff501b95052da76e894&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 ] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;Metadata&quot;: { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;LastTagTime&quot;: &quot;0001-01-01T00:00:00Z&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="理解">理解：<a href="#理解" class="hash-link" aria-label="理解：的直接链接" title="理解：的直接链接">​</a></h3><p>所有的 Docker 镜像都起始于一个基础镜像层，当进行修改或增加新的内容时，就会在当前镜像层之上，创建新的镜像层。</p><p>举一个简单的例子，假如基于 Ubuntu Linux 16.04 创建一个新的镜像，这就是新镜像的第一层；如果在该镜像中添加 Python包，就会在基础镜像层之上创建第二个镜像层；如果继续添加一个安全补丁，就会创建第三个镜像层。</p><p>该镜像当前已经包含 3 个镜像层，如下图所示（这只是一个用于演示的很简单的例子）。</p><p><img loading="lazy" src="/hijulien/assets/images/image24-24fadcbb216291ba525323b96a92b650.png" width="500" height="307" class="img_ev3q"></p><p>在添加额外的镜像层的同时，镜像始终保持是当前所有镜像的组合，理解这一点非常重要。下图中举了一个简单的例子，每个镜像层包含 3 个文件，而镜像包含了来自两个镜像层的 6 个文件。</p><p><img loading="lazy" src="/hijulien/assets/images/image25-0c23f2122592513b97d0e5f44fae7201.png" width="500" height="250" class="img_ev3q"></p><p>上图中的镜像层跟之前图中的略有区别，主要目的是便于展示文件。
下图中展示了一个稍微复杂的三层镜像，在外部看来整个镜像只有 6 个文件，这是因为最上层中的文件7 是文件 5 的一个更新版本。</p><p><img loading="lazy" src="/hijulien/assets/images/image26-d4709c74eb1199264d72094e1b3bc13c.png" width="500" height="349" class="img_ev3q"></p><p>这种情况下，上层镜像层中的文件覆盖了底层镜像层中的文件。这样就使得文件的更新版本作为一个新镜像层添加到镜像当中。</p><p>Docker 通过存储引擎（新版本采用快照机制）的方式来实现镜像层堆栈，并保证多镜像层对外展示为统一的文件系统。</p><p>Linux 上可用的存储引擎有 AUFS、Overlay2、Device Mapper、Btrfs 以及 ZFS。顾名思义，每种存储引擎都基于 Linux 中对应的文件系统或者块设备技术，并且每种存储引擎都有其独有的性能特点。</p><p>Docker 在 Windows 上仅支持 windowsfilter 一种存储引擎，该引擎基于 NTFS 文件系统之上实现了分层和 CoW<!-- -->[1]<!-- -->。</p><p>下图展示了与系统显示相同的三层镜像。所有镜像层堆叠并合并，对外提供统一的视图。</p><p><img loading="lazy" src="/hijulien/assets/images/image27-5e4313045103c5723aba00270e80ba78.png" width="600" height="162" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="特点">特点<a href="#特点" class="hash-link" aria-label="特点的直接链接" title="特点的直接链接">​</a></h3><p>Docker镜像都是只读的，当容器启动时，一个新的可写层被加载到镜像的顶部！</p><p>这一层就是我们通常说的容器层，容器之下的都叫镜像层！</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="镜像commit">镜像Commit<a href="#镜像commit" class="hash-link" aria-label="镜像Commit的直接链接" title="镜像Commit的直接链接">​</a></h2><p>docker commit 从容器创建一个新的镜像。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker commit 提交容器副本使之成为一个新的镜像！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 语法 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker commit -m=&quot;提交的描述信息&quot; -a=&quot;作者&quot; 容器id 要创建的目标镜像名:[标签名]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>容器数据卷</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="什么是容器数据卷">什么是容器数据卷<a href="#什么是容器数据卷" class="hash-link" aria-label="什么是容器数据卷的直接链接" title="什么是容器数据卷的直接链接">​</a></h2><p>docker的理念回顾：
将应用和运行的环境打包形成容器运行，运行可以伴随着容器，但是我们对于数据的要求，是希望能够持久化的！</p><p>就好比，你安装一个MySQL，结果你把容器删了，就相当于删库跑路了，这TM也太扯了吧！</p><p>所以我们希望容器之间有可能可以共享数据，Docker容器产生的数据，如果不通过docker commit 生成新的镜像，使得数据作为镜像的一部分保存下来，那么当容器删除后，数据自然也就没有了！这样是行不通的！</p><p>为了能保存数据在Docker中我们就可以使用卷！让数据挂载到我们本地！这样数据就不会因为容器删除而丢失了</p><p>作用：
卷就是目录或者文件，存在一个或者多个容器中，由docker挂载到容器，但不属于联合文件系统，因此能够绕过 Union File System ， 提供一些用于持续存储或共享数据的特性：</p><p>卷的设计目的就是数据的持久化，完全独立于容器的生存周期，因此Docker不会在容器删除时删除其挂载的数据卷。
特点：
1、数据卷可在容器之间共享或重用数据
2、卷中的更改可以直接生效
3、数据卷中的更改不会包含在镜像的更新中
4、数据卷的生命周期一直持续到没有容器使用它为止
所以：总结一句话： 就是容器的持久化，以及容器间的继承和数据共享！</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用数据卷">使用数据卷<a href="#使用数据卷" class="hash-link" aria-label="使用数据卷的直接链接" title="使用数据卷的直接链接">​</a></h2><p>方式一：容器中直接使用命令来添加</p><p>挂载:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it -v 宿主机绝对路径目录:容器内目录 镜像名 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker run -it -v /home/ceshi:/home centos /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查看数据卷是否挂载成功 docker inspect 容器id</p><p><img loading="lazy" src="data:image/png;base64,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" width="1322" height="311" class="img_ev3q"></p><p>测试容器和宿主机之间数据共享：可以发现，在容器中，创建的会在宿主机中看到！</p><p><img loading="lazy" src="/hijulien/assets/images/image29-c8c84fb77f8b9b0139fe1529dcb75676.png" width="1352" height="198" class="img_ev3q"></p><p>测试容器停止退出后，主机修改数据是否会同步！</p><ol><li><p>停止容器</p></li><li><p>在宿主机上修改文件，增加些内容</p></li><li><p>启动刚才停止的容器</p></li><li><p>然后查看对应的文件，发现数据依旧同步！ok</p><p><img loading="lazy" src="/hijulien/assets/images/image30-65559927243901ef793d19370ec9ccbc.png" width="1330" height="299" class="img_ev3q"></p></li></ol><p>使用 docker 安装 mysql</p><p>思考：mysql 数据持久化的问题！</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1、搜索镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker search mysql </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NAME DESCRIPTION STARS mysql MySQL is a widely used, open-source relation… 9488 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2、拉取镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker pull mysql:5.7 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5.7: Pulling from library/mysql </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    54fec2fa59d0: Already exists </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bcc6c6145912: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    951c3d959c9d: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    05de4d0e206e: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    319f0394ef42: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d9185034607b: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    013a9c64dadc: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    e745b3361626: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    03145d87b451: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3991a6b182ee: Pull complete </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    62335de06f7d: Pull complete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Digest: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sha256:e821ca8cc7a44d354486f30c6a193ec6b70a4eed8c8362aeede4e9b8d74b8ebb </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Status: Downloaded newer image for mysql:5.7 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> docker.io/library/mysql:5.7 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # 3、启动容器 -e 环境变量！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # 注意： mysql的数据应该不丢失！先体验下 -v 挂载卷！ 参考官方文档 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [root@kuangshen home]# docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7 4763fa5c68c4323688102f57938fb10996a0fb902d2812349286529f9378f16c </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # 4、使用本地的sqlyog连接测试一下 3310 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # 5、查看本地的 /home/mysql 目录 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [root@kuangshen data]# pwd /home/mysql/data </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [root@kuangshen data]# ls .. ... . test # 可以看到我们刚刚建立的mysql数据库在本地存储着 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> # 6、删除mysql容器 [root@kuangshen data]# docker rm -f mysql01 # 删除容器，然后发现远程连接失败！ mysql01 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [root@kuangshen data]# ls .. ... . test # 可以看到我们刚刚建立的mysql数据库在本地存储着</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>得出结论：
容器之间配置信息的传递，数据卷的生命周期一直持续到没有容器使用它为止。
存储在本机的文件则会一直保留！</p><h1>DockerFile</h1><p>大家想想，Nginx，tomcat，mysql 这些镜像都是哪里来的？官方能写，我们不能写吗？</p><p>我们要研究自己如何做一个镜像，而且我们写的微服务项目以及springboot打包上云部署，Docker就是最方便的。</p><p>微服务打包成镜像，任何装了Docker的地方，都可以下载使用，极其的方便。</p><p>流程：开发应用=&gt;DockerFile=&gt;打包为镜像=&gt;上传到仓库（私有仓库，公有仓库）=&gt; 下载镜像 =&gt; 启动运行。</p><p>还可以方便移植！</p><p><strong>什么是DockerFile?</strong></p><p>dockerfile是用来构建Docker镜像的构建文件，是由一系列命令和参数构成的脚本。
构建步骤：
1、编写DockerFile文件
2、docker build 构建镜像
3、docker run
<strong>DockerFile构建过程</strong></p><p>基础知识：</p><p>1、每条保留字指令都必须为大写字母且后面要跟随至少一个参数
2、指令按照从上到下，顺序执行
3、# 表示注释
4、每条指令都会创建一个新的镜像层，并对镜像进行提交</p><p>流程：
1、docker从基础镜像运行一个容器
2、执行一条指令并对容器做出修改
3、执行类似 docker commit 的操作提交一个新的镜像层
4、Docker再基于刚提交的镜像运行一个新容器
5、执行dockerfile中的下一条指令直到所有指令都执行完成！
说明：
从应用软件的角度来看，DockerFile，docker镜像与docker容器分别代表软件的三个不同阶段。
DockerFile 是软件的原材料 （代码）
Docker 镜像则是软件的交付品 （.apk）
Docker 容器则是软件的运行状态 （客户下载安装执行）
DockerFile 面向开发，Docker镜像成为交付标准，Docker容器则涉及部署与运维，三者缺一不可！</p><p><img loading="lazy" src="/hijulien/assets/images/image39-07707772c2dceb4bb40495ec1cacbd7b.png" width="615" height="255" class="img_ev3q"></p><p>DockerFile：需要定义一个DockerFile，DockerFile定义了进程需要的一切东西。DockerFile涉及的内容包括执行代码或者是文件、环境变量、依赖包、运行时环境、动态链接库、操作系统的发行版、服务进程和内核进程（当引用进行需要和系统服务和内核进程打交道，这时需要考虑如何设计 namespace的权
限控制）等等。</p><p>Docker镜像：在DockerFile 定义了一个文件之后，Docker build 时会产生一个Docker镜像，当运行Docker 镜像时，会真正开始提供服务；</p><p>Docker容器：容器是直接提供服务的。</p><p><strong>DockerFile指令</strong></p><p>关键字：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM # 基础镜像，当前新镜像是基于哪个镜像的 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAINTAINER # 镜像维护者的姓名混合邮箱地址 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN # 容器构建时需要运行的命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE # 当前容器对外保留出的端口 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR # 指定在创建容器后，终端默认登录的进来工作目录，一个落脚点 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV # 用来在构建镜像过程中设置环境变量 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADD # 将宿主机目录下的文件拷贝进镜像且ADD命令会自动处理URL和解压tar压缩包 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY # 类似ADD，拷贝文件和目录到镜像中！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VOLUME # 容器数据卷，用于数据保存和持久化工作 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD # 指定一个容器启动时要运行的命令，dockerFile中可以有多个CMD指令，但只有最 后一个生效！ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT # 指定一个容器启动时要运行的命令！和CMD一样 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ONBUILD # 当构建一个被继承的DockerFile时运行命令，父镜像在被子镜像继承后，父镜像的 ONBUILD被触发</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/hijulien/assets/images/image40-38f15632064d686d78f643c4a926f410.png" width="706" height="394" class="img_ev3q"></p><p><img loading="lazy" src="/hijulien/assets/images/image41-e4110f287812c31e1c9380ca69b9d067.png" width="897" height="593" class="img_ev3q"></p><p><img loading="lazy" src="/hijulien/assets/images/image56-e27e5ad9efceaea460d1985bd4f76d6c.png" width="626" height="491" class="img_ev3q"></p><h1>Docker 网络讲解</h1><p><strong>准备工作：清空所有的容器，清空所有的镜像</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker rm -f $(docker ps -a -q) # 删除所有容器 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker rmi -f $(docker images -qa) # 删除全部镜像</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查看本地ip </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ip addr</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/hijulien/assets/images/image57-b639fa924399bb0523a20a284fe3f200.png" width="1105" height="266" class="img_ev3q"></p><p>这里我们分析可得，有三个网络：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lo 127.0.0.1 # 本机回环地址 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eth0 172.17.90.138 # 阿里云的私有IP </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker0 172.18.0.1 # docker网桥 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 问题：Docker 是如何处理容器网络访问的？</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我们之前安装ES的时候，留过一个问题，就是安装Kibana的问题，Kibana得指定ES的地址！或者我们实际场景中，我们开发了很多微服务项目，那些微服务项目都要连接数据库，需要指定数据库的url地址，通过ip。但是我们用Docker管理的话，假设数据库出问题了，我们重新启动运行一个，这个时候数据库的地址就会发生变化，docker会给每个容器都分配一个ip，且容器和容器之间是可以互相访问的。我们可以测试下容器之间能不能ping通过：</p><p>1、每一个安装了Docker的linux主机都有一个docker0的虚拟网卡。这是个桥接网卡，使用了veth-pair技术！</p><p>2、每启动一个容器，linux主机就会多了一个虚拟网卡。</p><p>3、我们来画一个网络模型图</p><p><img loading="lazy" src="/hijulien/assets/images/image58-acccdd0436b2cd19969cce27351dcf94.png" width="820" height="393" class="img_ev3q"></p><p><strong>小结：</strong></p><p>Docker使用Linux桥接，在宿主机虚拟一个Docker容器网桥(docker0)，Docker启动一个容器时会根据Docker网桥的网段分配给容器一个IP地址，称为Container-IP，同时Docker网桥是每个容器的默认网关。因为在同一宿主机内的容器都接入同一个网桥，这样容器之间就能够通过容器的Container-IP直接
通信。</p><p><img loading="lazy" src="/hijulien/assets/images/image59-b6081c0edf42f4b71268b819d6de3a36.png" width="696" height="536" class="img_ev3q"></p><p>Docker容器网络就很好的利用了Linux虚拟网络技术，在本地主机和容器内分别创建一个虚拟接口，并让他们彼此联通（这样一对接口叫veth pair）；
Docker中的网络接口默认都是虚拟的接口。虚拟接口的优势就是转发效率极高（因为Linux是在内核中进行数据的复制来实现虚拟接口之间的数据转发，无需通过外部的网络设备交换），对于本地系统和容器系统来说，虚拟接口跟一个正常的以太网卡相比并没有区别，只是他的速度快很多。</p><p><strong>自定义网络</strong></p><p><img loading="lazy" src="/hijulien/assets/images/image60-d0f5f3f8f53691973bc9c520e9f13fdd.png" width="1025" height="330" class="img_ev3q"></p><p><strong>查看所有网络</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker network ls </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NETWORK ID NAME DRIVER SCOPE </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4eb2182ac4b2 bridge bridge local </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ae2b6209c2ab host host local </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c037f7ec7e57 none null local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>所有网路模式</strong></p><table><thead><tr><th>网络模式</th><th>配置</th><th>说明</th></tr></thead><tbody><tr><td>bridge模式</td><td>--net=bridge</td><td>默认值，在Docker网桥docker0上为容器创建新的网络栈</td></tr><tr><td>none模式</td><td>--net=none</td><td>不配置网络，用户可以稍后进入容器，自行配置</td></tr><tr><td>container模式</td><td>--net=container:name/id</td><td>容器和另外一个容器共享Network namespace。kubernetes中的pod就是多个容器共享一个Networknamespace。</td></tr><tr><td>host模式</td><td>--net=host</td><td>容器和宿主机共享Network namespace</td></tr><tr><td>用户自定义</td><td>--net=自定义网络</td><td>用户自己使用network相关命令定义网络，创建容器的时候可以指定为自己定义的网络</td></tr></tbody></table><p><strong>查看一个具体的网络的详细信息</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 命令 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@kuangshen ~]# docker network inspect 4eb2182ac4b2 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Name&quot;: &quot;bridge&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Id&quot;: &quot;4eb2182ac4b23487e1eb6e06df56c71ab6f0adc7ccc0962b4747d0eed5ad6690&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Created&quot;: &quot;2020-05-11T15:44:20.131441544+08:00&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Scope&quot;: &quot;local&quot;, &quot;Driver&quot;: &quot;bridge&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;EnableIPv6&quot;: false, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;IPAM&quot;: { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;Driver&quot;: &quot;default&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;Options&quot;: null, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;Config&quot;: [ { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    // 默认docker0是管理这个子网范围内的。0~16，也就是 255*255，去 掉0个255，我们有65534可以分配的ip                                   // docker0网络默认可以支持创建6万多个容器ip不重复 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;Subnet&quot;: &quot;172.18.0.0/16&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;Gateway&quot;: &quot;172.18.0.1&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    } ] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;Internal&quot;: false, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;Attachable&quot;: false, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;Ingress&quot;: false, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;ConfigFrom&quot;: { &quot;Network&quot;: &quot;&quot; },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;ConfigOnly&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    &quot;Containers&quot;: { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &quot;a3a4a17a2b707766ad4f2bb967ce1d94f658cd4cccef3bb8707395cdc71fa1e7&quot;: {                                                           &quot;Name&quot;: &quot;tomcat03&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                        &quot;EndpointID&quot;:                                       &quot;5fe62d0be3a1343aa74f6bb77885d3657b191210cafad200e5054e1bdfe56be9&quot;, &quot;MacAddress&quot;: &quot;02:42:ac:12:00:04&quot;, &quot;IPv4Address&quot;: &quot;172.18.0.4/16&quot;, &quot;IPv6Address&quot;: &quot;&quot; }, &quot;b80da266a3ad85fcc874c5f0d3c897246ebc40533cb745bb24180237cc3167b1&quot;: { &quot;Name&quot;: &quot;tomcat02&quot;, &quot;EndpointID&quot;: &quot;6232cac0c4e7fed30c9fa5eebc9238f9fc44f548f257344b5440d6d486825256&quot;, &quot;MacAddress&quot;: &quot;02:42:ac:12:00:03&quot;, &quot;IPv4Address&quot;: &quot;172.18.0.3/16&quot;, &quot;IPv6Address&quot;: &quot;&quot; }, &quot;f38239e2b405bccf8c93bd1052f336f661033b9b27ef9b3f99a018c108e06f87&quot;: { &quot;Name&quot;: &quot;tomcat01&quot;, &quot;EndpointID&quot;: &quot;31dc174b8f3f15f217acdc3ac7e8a235a03d59438f863706c0143b4426772c5e&quot;, &quot;MacAddress&quot;: &quot;02:42:ac:12:00:02&quot;, &quot;IPv4Address&quot;: &quot;172.18.0.2/16&quot;, &quot;IPv6Address&quot;: &quot;&quot; } },&quot;Options&quot;: { &quot;com.docker.network.bridge.default_bridge&quot;: &quot;true&quot;, &quot;com.docker.network.bridge.enable_icc&quot;: &quot;true&quot;, &quot;com.docker.network.bridge.enable_ip_masquerade&quot;: &quot;true&quot;, &quot;com.docker.network.bridge.host_binding_ipv4&quot;: &quot;0.0.0.0&quot;, &quot;com.docker.network.bridge.name&quot;: &quot;docker0&quot;, &quot;com.docker.network.driver.mtu&quot;: &quot;1500&quot; },&quot;Labels&quot;: {} } ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="网络连通"><strong>网络连通</strong><a href="#网络连通" class="hash-link" aria-label="网络连通的直接链接" title="网络连通的直接链接">​</a></h2><p><img loading="lazy" src="data:image/png;base64,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" width="800" height="225" class="img_ev3q"></p><p>docker0和自定义网络肯定不通，我们使用自定义网络的好处就是网络隔离：
大家公司项目部署的业务都非常多，假设我们有一个商城，我们会有订单业务（操作不同数据），会有订单业务购物车业务（操作不同缓存）。如果在一个网络下，有的程序猿的恶意代码就不能防止了，所以我们就在部署的时候网络隔离，创建两个桥接网卡，比如订单业务（里面的数据库，redis，mq，全
部业务 都在order-net网络下）其他业务在其他网络。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/hijulien/backend/Linux/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Linux</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/hijulien/backend/MySQL/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Mysql</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#docker为什么出现" class="table-of-contents__link toc-highlight">Docker为什么出现</a></li><li><a href="#历史" class="table-of-contents__link toc-highlight">历史</a></li><li><a href="#docker理念" class="table-of-contents__link toc-highlight">docker理念</a></li><li><a href="#docker作用" class="table-of-contents__link toc-highlight">docker作用</a></li><li><a href="#容器虚拟化技术" class="table-of-contents__link toc-highlight">容器虚拟化技术</a></li><li><a href="#开发运维devops" class="table-of-contents__link toc-highlight">开发/运维（DevOps）</a><ul><li><a href="#更快速的应用交付和部署" class="table-of-contents__link toc-highlight">更快速的应用交付和部署:</a></li><li><a href="#更便捷的升级和扩缩容" class="table-of-contents__link toc-highlight">更便捷的升级和扩缩容：</a></li><li><a href="#更简单的系统运维" class="table-of-contents__link toc-highlight">更简单的系统运维：</a></li><li><a href="#更高效的计算资源利用" class="table-of-contents__link toc-highlight">更高效的计算资源利用：</a></li></ul></li><li><a href="#学习途径" class="table-of-contents__link toc-highlight">学习途径</a></li><li><a href="#docker组成" class="table-of-contents__link toc-highlight">docker组成</a><ul><li><a href="#docker的架构图" class="table-of-contents__link toc-highlight">Docker的架构图</a></li><li><a href="#镜像image" class="table-of-contents__link toc-highlight">镜像（image）：</a></li><li><a href="#容器container" class="table-of-contents__link toc-highlight">容器（container）：</a></li><li><a href="#仓库repository" class="table-of-contents__link toc-highlight">仓库（repository）：</a></li></ul></li><li><a href="#docker-run-hello-world-工作流程" class="table-of-contents__link toc-highlight">docker run hello-world 工作流程</a></li><li><a href="#docker是怎么工作的" class="table-of-contents__link toc-highlight">Docker是怎么工作的</a></li><li><a href="#docker为什么比vm-快" class="table-of-contents__link toc-highlight">Docker为什么比VM 快</a><ul><li><a href="#小结" class="table-of-contents__link toc-highlight">小结：</a></li></ul></li><li><a href="#帮助命令" class="table-of-contents__link toc-highlight">帮助命令</a></li><li><a href="#镜像命令" class="table-of-contents__link toc-highlight">镜像命令</a><ul><li><a href="#docker-images" class="table-of-contents__link toc-highlight">docker images</a></li><li><a href="#docker-search" class="table-of-contents__link toc-highlight">docker search</a></li><li><a href="#docker-pull" class="table-of-contents__link toc-highlight">docker pull</a></li><li><a href="#docker-rmi" class="table-of-contents__link toc-highlight">docker rmi</a></li></ul></li><li><a href="#容器命令" class="table-of-contents__link toc-highlight">容器命令</a><ul><li><a href="#新建容器并启动" class="table-of-contents__link toc-highlight">新建容器并启动</a></li><li><a href="#列出所有运行的容器" class="table-of-contents__link toc-highlight">列出所有运行的容器</a></li><li><a href="#退出容器" class="table-of-contents__link toc-highlight">退出容器</a></li><li><a href="#启动停止容器" class="table-of-contents__link toc-highlight">启动停止容器</a></li><li><a href="#删除容器" class="table-of-contents__link toc-highlight">删除容器</a></li></ul></li><li><a href="#常用其他命令" class="table-of-contents__link toc-highlight">常用其他命令</a><ul><li><a href="#后台启动容器" class="table-of-contents__link toc-highlight">后台启动容器</a></li><li><a href="#查看日志" class="table-of-contents__link toc-highlight">查看日志</a></li><li><a href="#查看容器中运行的进程信息支持-ps-命令参数" class="table-of-contents__link toc-highlight">查看容器中运行的进程信息，支持 ps 命令参数。</a></li><li><a href="#查看容器镜像的元数据" class="table-of-contents__link toc-highlight">查看容器/镜像的元数据</a></li><li><a href="#进入正在运行的容器" class="table-of-contents__link toc-highlight">进入正在运行的容器</a></li><li><a href="#从容器内拷贝文件到主机上" class="table-of-contents__link toc-highlight">从容器内拷贝文件到主机上</a></li></ul></li><li><a href="#小结-1" class="table-of-contents__link toc-highlight">小结</a><ul><li><a href="#常用命令" class="table-of-contents__link toc-highlight">常用命令</a></li></ul></li><li><a href="#镜像是什么" class="table-of-contents__link toc-highlight">镜像是什么</a></li><li><a href="#unionfs-联合文件系统" class="table-of-contents__link toc-highlight">UnionFS （联合文件系统）</a></li><li><a href="#docker镜像加载原理" class="table-of-contents__link toc-highlight">Docker镜像加载原理</a></li><li><a href="#分层的镜像" class="table-of-contents__link toc-highlight">分层的镜像</a><ul><li><a href="#理解" class="table-of-contents__link toc-highlight">理解：</a></li><li><a href="#特点" class="table-of-contents__link toc-highlight">特点</a></li></ul></li><li><a href="#镜像commit" class="table-of-contents__link toc-highlight">镜像Commit</a></li><li><a href="#什么是容器数据卷" class="table-of-contents__link toc-highlight">什么是容器数据卷</a></li><li><a href="#使用数据卷" class="table-of-contents__link toc-highlight">使用数据卷</a></li><li><a href="#网络连通" class="table-of-contents__link toc-highlight"><strong>网络连通</strong></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright @ 2023 The way to becoming a god.</div></div></div></footer></div>
<script src="/hijulien/assets/js/runtime~main.223637bc.js"></script>
<script src="/hijulien/assets/js/main.44331553.js"></script>
</body>
</html>