<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-frontend docs-doc-id-JavaScript/API">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">API | note</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hijulien.github.io/hijulien/frontend/JavaScript/API"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-frontend-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-frontend-current"><meta data-rh="true" property="og:title" content="API | note"><meta data-rh="true" name="description" content="1.Array"><meta data-rh="true" property="og:description" content="1.Array"><link data-rh="true" rel="icon" href="/hijulien/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hijulien.github.io/hijulien/frontend/JavaScript/API"><link data-rh="true" rel="alternate" href="https://hijulien.github.io/hijulien/frontend/JavaScript/API" hreflang="zh"><link data-rh="true" rel="alternate" href="https://hijulien.github.io/hijulien/frontend/JavaScript/API" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/hijulien/blog/rss.xml" title="note RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/hijulien/blog/atom.xml" title="note Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2L2G8Q06FG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2L2G8Q06FG",{anonymize_ip:!0})</script><link rel="stylesheet" href="/hijulien/assets/css/styles.3549dea1.css">
<link rel="preload" href="/hijulien/assets/js/runtime~main.5e8e5928.js" as="script">
<link rel="preload" href="/hijulien/assets/js/main.f7b4ff16.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/hijulien/"><div class="navbar__logo"><img src="/hijulien/img/julien.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/hijulien/img/julien.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Hi Julien</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hijulien/frontend/JavaScript">frontend</a><a class="navbar__item navbar__link" href="/hijulien/backend/Linux">backend</a><a class="navbar__item navbar__link" href="/hijulien/others/Git">others</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" path="docs/something" href="/hijulien/docs/第 1 章 内存与数据结构">小专栏</a><a href="https://github.com/hijulien/notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/hijulien/frontend/JavaScript/">JavaScript</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hijulien/frontend/JavaScript/">Grammar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hijulien/frontend/JavaScript/ES6">ES6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/hijulien/frontend/JavaScript/API">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hijulien/frontend/JavaScript/Fragment">Fragment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hijulien/frontend/JavaScript/WebAPI">WebAPI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hijulien/frontend/JavaScript/Promise">Promise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hijulien/frontend/JavaScript/Error">Error</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/hijulien/frontend/TypeScript/">TypeScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/hijulien/frontend/React/">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/hijulien/frontend/Vue/">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/hijulien/frontend/Axios/">Axios</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/hijulien/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">JavaScript</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>API</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1array">1.Array<a class="hash-link" href="#1array" title="标题的直接链接">​</a></h2><table><thead><tr><th align="left">方法</th><th align="left">作用</th><th align="center">是否影响原数组</th></tr></thead><tbody><tr><td align="left">push( v )</td><td align="left">在数组后添加元素，返回数组长度</td><td align="center">✅</td></tr><tr><td align="left">pop( v )</td><td align="left">删除数组最后一项，返回被删除项</td><td align="center">✅</td></tr><tr><td align="left">shift( v )</td><td align="left">删除数组第一项，并返回数组</td><td align="center">✅</td></tr><tr><td align="left">unshift( v )</td><td align="left">数组开头添加元素，返回添加的元素</td><td align="center">✅</td></tr><tr><td align="left">reserve()</td><td align="left">反转一个数组，返回修改后的数组</td><td align="center">✅</td></tr><tr><td align="left">sort( f )</td><td align="left">排序一个数组，返回修改后的数组</td><td align="center">✅</td></tr><tr><td align="left">splice( i , num , v...)</td><td align="left">截取数组并在此处添加元素，返回被截取的区间</td><td align="center">✅</td></tr><tr><td align="left">copyWithIn( i  ,s , e)</td><td align="left">在当前数组将指定位置的成员复制到指定位置</td><td align="center">✅</td></tr><tr><td align="left">fill( v ,s ,e )</td><td align="left">在当前数组指定位置替换指定值</td><td align="center">✅</td></tr><tr><td align="left">join( str )</td><td align="left">将一个数组所有元素连接成字符串并返回这个字符串</td><td align="center">❌</td></tr><tr><td align="left">concat( arr )</td><td align="left">arr1.concat(arr2, arr3) 连接数组</td><td align="center">❌</td></tr><tr><td align="left">join( str )</td><td align="left">将arr数组元素连接成字符串并返回这个字符串</td><td align="center">❌</td></tr><tr><td align="left">indexOf( v )</td><td align="left">返回数组中匹配参数值的下标，空返回 -1,不能找NaN</td><td align="center">❌</td></tr><tr><td align="left">find( f( v , i ,arr) )</td><td align="left">返回首个满足条件的元素</td><td align="center">❌</td></tr><tr><td align="left">findIndex( f( v , i , arr) )</td><td align="left">返回首个满足条件的元素的下标</td><td align="center">❌</td></tr><tr><td align="left">map( f( v , i , arr) )</td><td align="left">操作数组每一项并返回一个新数组</td><td align="center">❌</td></tr><tr><td align="left">forEach( v , i )</td><td align="left">遍历数组，没有返回值</td><td align="center">❌</td></tr><tr><td align="left">filter( f( v , i , arr) )</td><td align="left">对数组所有项进行判断，返回符合规则的新数组</td><td align="center">❌</td></tr><tr><td align="left">every( f( v , i , arr) )</td><td align="left">数组每一项都符合规则才返回true</td><td align="center">❌</td></tr><tr><td align="left">some( f( v , i , arr) )</td><td align="left">数组有符合规则的一项就返回true</td><td align="center">❌</td></tr><tr><td align="left">reduce( f( v ,cv, i, arr) ,iv)</td><td align="left">接收上一个return和数组的下一项</td><td align="center">❌</td></tr><tr><td align="left">flat( num )</td><td align="left">指定层级数组扁平化,可 Infinity</td><td align="center">❌</td></tr><tr><td align="left">slice( start , i)</td><td align="left">截取数组，返回被截取的区间</td><td align="center">❌</td></tr><tr><td align="left">isArray()</td><td align="left">判断是否是数组</td><td align="center">❌</td></tr><tr><td align="left">Array.from()</td><td align="left">转为数组</td><td align="center">❌</td></tr><tr><td align="left">includes( v )</td><td align="left">返回是否含有元素的布尔值，能判断NaN</td><td align="center">❌</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2math">2.Math<a class="hash-link" href="#2math" title="标题的直接链接">​</a></h2><table><thead><tr><th align="left">方法</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">Math.max( arr )</td><td align="left">取arr中的最大值</td></tr><tr><td align="left">Math.min( arr )</td><td align="left">取arr中的最小值</td></tr><tr><td align="left">Math.ceil( double )</td><td align="left">小数向上取整</td></tr><tr><td align="left">Math.floor( double )</td><td align="left">小数向下取整</td></tr><tr><td align="left">Math.round( double )</td><td align="left">小数四舍五入</td></tr><tr><td align="left">Math.sqrt( num )</td><td align="left">对num进行开方</td></tr><tr><td align="left">Math.pow( num, m)</td><td align="left">对num取m次幂</td></tr><tr><td align="left">Math.random() * num</td><td align="left">取0-num的随机数</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3object">3.Object<a class="hash-link" href="#3object" title="标题的直接链接">​</a></h2><table><thead><tr><th align="left">方法</th><th>作用</th></tr></thead><tbody><tr><td align="left">entries( obj )</td><td>对象转二维数组</td></tr><tr><td align="left">formEntries( obj )</td><td>二维数组转对象</td></tr><tr><td align="left">assign( obj1 , obj2...)</td><td>将多个对象合并到目标的属性合并到目标对象中，相同属性的值以最后一个合并对象的为准，不改变被合并对象，可以实现浅克隆 (兼容性不好)</td></tr><tr><td align="left">values( obj )</td><td>返回对象值的数组集合</td></tr><tr><td align="left">keys( obj )</td><td>返回对象键值的集合</td></tr><tr><td align="left">isExtensible( obj )</td><td>判断一个对象是否可以修改属性,是放回true，反之返回false</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="defineproprety">defineProprety<a class="hash-link" href="#defineproprety" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Object.defineProperty(obj,prop,descriptor):对obj对象上对prop属性进行定义或修改，其中descriptor为被定义或修改的属性符。其中对于descriptor属性符可以设置的值如下显示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">value:表示属性的值，默认为undefined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">writable:该属性是否为可写，如果直接在对象上定义属性，则默认为true。如果设置为false，则属性仅为可读。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">configurable: 如果为false的话，则不能修改（writabel,configurable,enumerable），如果直接在对象上定义属性，则默认为true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enumerable:是否能够被枚举，如果直接在对象上定义属性，则默认为true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get:当对象访问prop属性的时候，会调用这个方法，并返回结果。默认为undefined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set:当对象设置该属性的时候，会调用这个方法，默认为undefined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">注意：兼容性不错，移动端几乎全兼容，PC端兼容IE9以上，IE8也能运行，但是只能传dom对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var obj = {}, value = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Object.defineProperty(obj, &quot;num&quot;, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     get: function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              console.log(&#x27;执行了 get 操作&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              return value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     set: function (newValue) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              console.log(&#x27;执行了 set 操作&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              value = newValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  obj.num = 1 // 执行了 set 操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(obj.num) // 1 执行了 get 操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getownpropertydescriptor">getOwnPropertyDescriptor<a class="hash-link" href="#getownpropertydescriptor" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Object.getOwnPropertyDescriptor(obj):返回一个对象的所有属性的属性描述符，没有属性返回{}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getownpropertynames">getOwnPropertyNames<a class="hash-link" href="#getownpropertynames" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Object.getOwnPropertyNames(obj): 查找目标对象的所有key值，并返回一个包含所有key值的数组，和Object.keys()效果一致</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let obj = { name: &#x27;derek&#x27;, age: 22, sex: &#x27;M&#x27; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let a = Object.getOwnPropertyNames(obj)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(a) // [&#x27;name&#x27;,&#x27;age&#x27;,&#x27;sex&#x27;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4string">4.String<a class="hash-link" href="#4string" title="标题的直接链接">​</a></h2><table><thead><tr><th align="left">方法</th><th>作用</th><th align="center">是否改变原串</th></tr></thead><tbody><tr><td align="left">chatAt( i )</td><td>返回指定位置的字符串</td><td align="center"></td></tr><tr><td align="left">chatCodeAt( i )</td><td>返回指定位置的字符的Unicode编码</td><td align="center"></td></tr><tr><td align="left">concat( str )</td><td>连接字符串</td><td align="center"></td></tr><tr><td align="left">indexOf( Str )</td><td>检索字符串，返回检索字符串的下标  (大小写敏感)</td><td align="center"></td></tr><tr><td align="left">match( reg )</td><td>检索字符串，返回匹配的所有字符串</td><td align="center"></td></tr><tr><td align="left">matchAll( reg )</td><td>返回所有匹配</td><td align="center"></td></tr><tr><td align="left">replace( reg , str)</td><td>用字符串替换字符子串或替换与正则匹配的子串</td><td align="center"></td></tr><tr><td align="left">search( reg )</td><td>检索字符串中匹配的子串并返回第一个的下标，不匹配返回 -1</td><td align="center"></td></tr><tr><td align="left">slice( start , end )</td><td>提取字符串的子串，为负表从尾部开始</td><td align="center"></td></tr><tr><td align="left">split( str ，i )</td><td>以指定字符为界分割出指定长度的数组</td><td align="center"></td></tr><tr><td align="left">toLowerCase()</td><td>转小写</td><td align="center"></td></tr><tr><td align="left">toUpperCase()</td><td>转大写</td><td align="center"></td></tr><tr><td align="left">substr( start , num )</td><td>从指定位置提取指定数量的字符</td><td align="center"></td></tr><tr><td align="left">substring( start&amp;!+, i )</td><td>提取指定区间的字符串</td><td align="center"></td></tr><tr><td align="left">includes( str , index&amp;~)</td><td>是否包含参数字符串</td><td align="center"></td></tr><tr><td align="left">startWith( str , index&amp;~)</td><td>是否以参数字符串开头</td><td align="center"></td></tr><tr><td align="left">endWith( str , index&amp;~)</td><td>是否以参数字符串结尾</td><td align="center"></td></tr><tr><td align="left">repeat( num )</td><td>重复指定次数</td><td align="center"></td></tr><tr><td align="left">padStart( index , str&amp;~ )</td><td>头部开始补全字符串，默认用空格补全</td><td align="center"></td></tr><tr><td align="left">padEnd( index , str&amp;~ )</td><td>尾部开始补全字符串，默认用空格补全</td><td align="center"></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5browser-api">5.browser api<a class="hash-link" href="#5browser-api" title="标题的直接链接">​</a></h2><table><thead><tr><th align="left">api</th><th align="left">作用</th><th align="left">代表方法或属性</th></tr></thead><tbody><tr><td align="left">window.history</td><td align="left">操纵浏览器的记录</td><td align="left">history.back() history.go(-1)</td></tr><tr><td align="left">window.innerHeight</td><td align="left">获取浏览器窗口的高度</td><td align="left"></td></tr><tr><td align="left">window.innerWidth</td><td align="left">获取浏览器窗口的宽度</td><td align="left"></td></tr><tr><td align="left">window.location</td><td align="left">操作刷新按钮和地址栏</td><td align="left">location.host：获取域名和端口 location.hostname：获取主机名 location.port：获取端口号 location.pathname：获取url的路径 location.search：获取?开始的部分 location.href：获取整个url location.hash：获取#开始的部分 location.origin：获取当前域名 location.navigator：获取当前浏览器信息</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-mutationobserver">5.1 MutationObserver<a class="hash-link" href="#51-mutationobserver" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">提供了监视对DOM树所做更改的能力 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">构造实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">参数为回调 , 即指定的节点或子节点发生dom变动时别调用.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">回调第一个参数为变动的MutationRecord 对象数组.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">实例对象observer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实例化observer对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const observer = new MutationObserver(handlerChange)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 配置监听的dom,以及监听哪些属性的变动配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const options = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  childList:true, // 观察子节点的变化,添加或删除</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attributes:true, // 观察属性变动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subtree:true, // 观察子孙节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 监听</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">observe.observe(document.querySelector(&quot;#app&quot;),options)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 回调事件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const handlerChange = function(mutationList,observer){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 触发变动的节点、属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">实例方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">observe(dom,options) - 配置监听的DOM给定选项更改时,调用回调函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const options = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attributeFiter:[], // 设置监听指定属性,比如width、height等.不设置则监听所有属性.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attributeOldValue:true, // 观察节点属性变更时,记录旧值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attributes:true, // 观察节点属性的变更</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  characterData:true, // 监听文本节点文本的变化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  characterDataOldValue:true, // 监听文本节点,记录文本节点旧值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  childList:true, // 观察子孙节点的添加、删除更改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subtree:true, // 观察子孙节点、属性等所有的变化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">多次调用监听方法,会移除现有的观察目标的监听; 如果没有指定DOM,则保留现有的观察目标,并添加新的观察者.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">disconnect() - 停止监听DOM,回调不会在调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">takeRecords() - 删除所有待处理的变更通知.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-mutationrecord">5.2 MutationRecord<a class="hash-link" href="#52-mutationrecord" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">监听DOM 变更后回调第一个参数.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type - 变更的类型, 属性-attributes;节点文本变化 - characterData; 子节点变化 - childList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">target - 变更的目标节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">addedNodes - 被添加的节点NodeList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">removedNodes - 被移除的节点NodeList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oladValue - 变更前的旧值记录,需要配置属性才会有;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-getboundingclientrect">5.3 getBoundingClientRect<a class="hash-link" href="#53-getboundingclientrect" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Element.getBoundingClientRect() 方法返回元素的大小及其相对于视口的位置。返回的是一个对象，对象里有这8个属性：left，right，top，bottom，width，height，x，y。常用来判断元素是否在可视区域</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;div id=&quot;box&quot;&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">body {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       height: 3000px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       width: 3000px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#box {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       width: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       height: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       background-color: red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       margin-top: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       margin-left: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const box = document.getElementById(&#x27;box&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        window.onscroll = function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // box完整出现在视口里才会输出true，否则为false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(checkInView(box))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function checkInView(dom) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const { top, left, bottom, right } = dom.getBoundingClientRect()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(top, left, bottom, right)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(window.innerHeight, window.innerWidth)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return top &gt;= 0 &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                left &gt;= 0 &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                bottom &lt;= (window.innerHeight || document.documentElement.clientHeight) &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                right &lt;= (window.innerWidth || document.documentElement.clientWidth)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">根据这个用处，咱们可以实现：懒加载和无限滚动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">缺点？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1、每次scroll都得重新计算，性能耗费大</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2、引起重绘回流</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-intersectionobserver">5.4 IntersectionObserver<a class="hash-link" href="#54-intersectionobserver" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">IntersectionObserver接口 提供了一种异步观察目标元素与其祖先元素或顶级文档视窗(viewport)交叉状态的方法。祖先元素与视窗(viewport)被称为根(root)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">通俗点说就是：IntersectionObserver是用来监听某个元素与视口的交叉状态的。交叉状态是什么呢？请看下图，一开始整个元素都在视口内，那么元素与视口的交叉状态就是100%，而我往下滚动，元素只有一半显示在视口里，那么元素与视口的交叉状态为50%：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 接收两个参数 callback  option</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var io = new IntersectionObserver(callback, option);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 开始观察(可观察多个元素)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.observe(document.getElementById(&#x27;example1&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.observe(document.getElementById(&#x27;example2&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 停止观察某个元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.unobserve(element);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 关闭观察器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.disconnect();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>用法</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 接收两个参数 callback  option</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var io = new IntersectionObserver(callback, option);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 开始观察(可观察多个元素)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.observe(document.getElementById(&#x27;example1&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.observe(document.getElementById(&#x27;example2&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 停止观察某个元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.unobserve(element);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 关闭观察器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">callback一般有两种触发情况。一种是目标元素刚刚进入视口（可见），另一种是完全离开视口（不可见）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var io = new IntersectionObserver(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  entries =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(entries);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>callback</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">callback函数的参数（entries）是一个数组，每个成员都是一个IntersectionObserverEntry对象。举例来说，如果同时有两个被观察的对象的可见性发生变化，entries数组就会有两个成员。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IntersectionObserverEntry对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  time: 3893.92,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rootBounds: ClientRect {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bottom: 920,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height: 1024,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    left: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    right: 1024,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    top: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    width: 920</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  boundingClientRect: ClientRect {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  intersectionRect: ClientRect {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  intersectionRatio: 0.54,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  target: element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">属性解析：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time：可见性发生变化的时间，是一个高精度时间戳，单位为毫秒</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">target：被观察的目标元素，是一个 DOM 节点对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rootBounds：根元素的矩形区域的信息，getBoundingClientRect()方法的返回值，如果没有根元素（即直接相对于视口滚动），则返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boundingClientRect：目标元素的矩形区域的信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">intersectionRect：目标元素与视口（或根元素）的交叉区域的信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">intersectionRatio：目标元素的可见比例，即intersectionRect占boundingClientRect的比例，完全可见时为1，完全不可见时小于等于0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>option</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">二个参数option里比较重要的两个属性：threshold和root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">首先讲讲threshold：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">threshold属性决定了什么时候触发回调函数。它是一个数组，每个成员都是一个门槛值，默认为[0]，即交叉比例（intersectionRatio）达到0时触发回调函数。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new IntersectionObserver(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  entries =&gt; {/* ... */}, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    threshold: [0, 0.25, 0.5, 0.75, 1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用户可以自定义这个数组。比如，[0, 0.25, 0.5, 0.75, 1]就表示当目标元素 0%、25%、50%、75%、100% 可见时，会触发回调函数。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">再说说root：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IntersectionObserver API 支持容器内滚动。root属性指定目标元素所在的容器节点（即根元素）。注意，容器元素必须是目标元素的祖先节点。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new IntersectionObserver(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  entries =&gt; {/* ... */}, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    threshold: [0, 0.25, 0.5, 0.75, 1],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root: document.getElementById(&#x27;#container&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>example</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">完整例子</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">body {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            height: 3000px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            width: 3000px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#box1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            width: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            height: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            background-color: red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            margin-top: 100px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            margin-left: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#box2 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            width: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            height: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            background-color: red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            margin-top: 100px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            margin-left: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;div id=&quot;box1&quot;&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;div id=&quot;box2&quot;&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const io = new IntersectionObserver(entries =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(entries)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            threshold: [0, 0.25, 0.5, 0.75, 1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // root: xxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.observe(document.getElementById(&#x27;box1&#x27;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">io.observe(document.getElementById(&#x27;box2&#x27;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>1、可以像<code>getBoundingClientRect</code>那样判断元素是否在视口里，并且好处是，不会引起重绘回流</li><li>2、同理，有了第一点功能，就可以做<code>懒加载和无限滚动</code>功能了</li><li>3、ie兼容性不好</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="55-createnodeiterator">5.5 createNodeIterator<a class="hash-link" href="#55-createnodeiterator" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">使用createNodeIterator对页面中所有元素进行遍历输出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const body = document.getElementsByTagName(&#x27;body&#x27;)[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const it = document.createNodeIterator(body)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let root = it.nextNode()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    while(root) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(root)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        root = it.nextNode()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="56-getcomputedstyle">5.6 getComputedStyle<a class="hash-link" href="#56-getcomputedstyle" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Window.getComputedStyle()方法返回一个对象，该对象在应用活动样式表并解析这些值可能包含的任何基本计算后报告元素的所有CSS属性的值。私有的CSS属性值可以通过对象提供的API或通过简单地使用CSS属性名称进行索引来访问。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">window.getComputedStyle(element, pseudoElement)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element: 必需，要获取样式的元素。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pseudoElement: 可选，伪类元素，当不查询伪类元素的时候可以忽略或者传入 null。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">搭配getPropertyValue可以获取到具体样式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#box {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            width: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            height: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            background-color: yellow;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;div id=&quot;box&quot;&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const box = document.getElementById(&#x27;box&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const styles = window.getComputedStyle(box)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 搭配getPropertyValue可以获取到具体样式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const height = styles.getPropertyValue(&quot;height&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const width = styles.getPropertyValue(&quot;width&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(height, width) // ’300px‘ &#x27;300px&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="57-formdata">5.7 FormData<a class="hash-link" href="#57-formdata" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">提供处理form表单数据的功能，form表单处理在日常开发中处处可见。现在的前端框架帮我很好的处理了这一问题，必要的学习了解还是必须的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">构造实例 参数为 form标签dom对象，非必选。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const form = new FormData()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">当我们传入form 参数时，每个form元素都需要name属性，这是必须的。会自动将表单值序列化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 指定form元素，同步获取到表单里的表单属性、值。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const form = new FormData(document.querySelector(&#x27;#form&#x27;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">实例方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">append() key/value 新增键值对，如果存在key，则新增一个值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delete() 删除指定键</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">entries() 所有键值对的迭代对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get() 获取到指定键的第一个值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getAll() 返回指定键的包含所有值的数组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">has() 是否包含某个键</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keys() 所有属性键的迭代对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set() 设置属性值，覆盖原有的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">valuse() 返回包含所有属性值得迭代对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">定义的form表单，创建FormData实例后，操作表单元素，并可增加新的属性。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 所有属性 ，按照表单元素的name属性序列化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">form.keys()         // [...keys] - result:[&quot;name&quot;, &quot;age&quot;, &quot;gender&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 查找某个值 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">form.has(&#x27;id&#x27;)          // false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 添加一个值,重复的name属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">form.append(&#x27;name&#x27;,&#x27;test&#x27;)         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">form.get(&#x27;name&#x27;)               // 返回第一个符合的值， 为 admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">form.getAll(&#x27;name&#x27;)               // 返回所有的值得数组， [&#x27;admin&#x27;,&#x27;test&#x27;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="58-xmlhttprequest">5.8 XMLHttpRequest<a class="hash-link" href="#58-xmlhttprequest" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">创建一个ajax实例，发送请求。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 直接发送数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const xhr = new XMLHttpRequest()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xhr.open(&#x27;post&#x27;,&#x27;/addUserInfo&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xhr.send(form)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用File 创建文件，上传文件。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 创建文件对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const file = new File([&#x27;hello world&#x27;],&#x27;test.txt&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 定义文件读取的实例对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const fileReader = new FileReader()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 定义请求实例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const xhr = new XMLHttpRequest()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 通过onload事件回调获取到文件内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fileReader.onload = function(event){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 读取到文件blob数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    form.append(&#x27;file&#x27;,event.target.result)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xhr.open(&#x27;post&#x27;,&#x27;/addUserInfo&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xhr.send(form)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 读取文件为字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fileReader.readAsDataURL(file)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mutationobserver">MutationObserver<a class="hash-link" href="#mutationobserver" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MutationObserver 是一个内建对象，它观察 DOM 元素，并在检测到更改时触发回调。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 选择需要观察变动的节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const targetNode = document.getElementById(&#x27;some-id&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 观察器的配置（需要观察什么变动）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const config = { attributes: true, childList: true, subtree: true };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 当观察到变动时执行的回调函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const callback = function(mutationsList, observer) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Use traditional &#x27;for loops&#x27; for IE 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for(let mutation of mutationsList) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (mutation.type === &#x27;childList&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(&#x27;A child node has been added or removed.&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else if (mutation.type === &#x27;attributes&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(&#x27;The &#x27; + mutation.attributeName + &#x27; attribute was modified.&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 创建一个观察器实例并传入回调函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const observer = new MutationObserver(callback);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 以上述配置开始观察目标节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">observer.observe(targetNode, config);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 之后，可停止观察</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">observer.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config 是一个具有布尔选项的对象，该布尔选项表示“将对哪些更改做出反应”：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">childList —— node 的直接子节点的更改，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subtree —— node 的所有后代的更改，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attributes —— node 的特性（attribute），</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attributeFilter —— 特性名称数组，只观察选定的特性。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterData —— 是否观察 node.data（文本内容） 其他几个选项：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attributeOldValue —— 如果为 true，则将特性的旧值和新值都传递给回调（参见下文），否则只传新值（需要 attributes 选项），</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">characterDataOldValue —— 如果为 true，则将 node.data 的旧值和新值都传递给回调（参见下文），否则只传新值（需要 characterData 选项）。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6dom">6.dom<a class="hash-link" href="#6dom" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1createelement">1.createElement()<a class="hash-link" href="#1createelement" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">通过传入指定的一个标签名来创建一个元素，如果传入的标签名是一个未知的，则会创建一个自定义的标签，注意：IE8以下浏览器不支持自定义标签。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let element = document.createElement(tagName);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2clonenode">2.cloneNode()<a class="hash-link" href="#2clonenode" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cloneNode返回调用该方法的节点的一个副本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var dupNode = node.cloneNode(deep);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node 将要被克隆的节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dupNode 克隆生成的副本节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deep（可选）是否采用深度克隆,如果为true,则该节点的所有后代节点也都会被克隆,如果为false,则只克隆该节点本身.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这里有几点要注意：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（1）和createElement一样，cloneNode创建的节点只是游离有HTML文档外的节点，要调用appendChild方法才能添加到文档树中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（2）如果复制的元素有id，则其副本同样会包含该id，由于id具有唯一性，所以在复制节点后必须要修改其id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（3）调用接收的deep参数最好传入，如果不传入该参数，不同浏览器对其默认值的处理可能不同</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">注意</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果被复制的节点绑定了事件，则副本也会跟着绑定该事件吗？这里要分情况讨论：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（1）如果是通过addEventListener或者比如onclick进行绑定事件，则副本节点不会绑定该事件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（2）如果是内联方式绑定比如：&lt;div onclick=&quot;showParent()&quot;&gt;&lt;/div&gt;，这样的话，副本节点同样会触发事件。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3createdocumentfragment">3.createDocumentFragment()<a class="hash-link" href="#3createdocumentfragment" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DocumentFragments 是DOM节点。它们不是主DOM树的一部分。通常的用例是创建文档片段，将元素附加到文档片段，然后将文档片段附加到DOM树。在DOM树中，文档片段被其所有的子元素所代替。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">因为文档片段存在于内存中，并不在DOM树中，所以将子元素插入到文档片段时不会引起页面回流(reflow)(对元素位置和几何上的计算)。因此，使用文档片段document fragments 通常会起到优化性能的作用。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let fragment = document.createDocumentFragment();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4getboundingclientrect">4.getBoundingClientRect()<a class="hash-link" href="#4getboundingclientrect" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">getBoundingClientRect用来返回元素的大小以及相对于浏览器可视窗口的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var clientRect = element.getBoundingClientRect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clientRect是一个DOMRect对象，包含left，top，right，bottom，它是相对于可视窗口的距离，滚动位置发生改变时，它们的值是会发生变化的。除了IE9以下浏览器，还包含元素的height和width等数据</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5appendchild">5.appendChild()<a class="hash-link" href="#5appendchild" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">将指定的节点添加到调用该方法的节点的子元素的末尾。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parent.appendChild(child);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">child节点将会作为parent节点的最后一个子节点。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">appendChild这个方法很简单，但是还有有一点需要注意：如果被添加的节点是一个页面中存在的节点，则执行后这个节点将会添加到指定位置，其原本所在的位置将移除该节点，也就是说不会同时存在两个该节点在页面上，相当于把这个节点移动到另一个地方。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果child绑定了事件，被移动时，它依然绑定着该事件。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6insertbefore">6.insertBefore()<a class="hash-link" href="#6insertbefore" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">用来添加一个节点到一个参照节点之前</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parentNode.insertBefore(newNode,refNode);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parentNode表示新节点被添加后的父节点 newNode表示要添加的节点 refNode表示参照节点，新节点会添加到这个节点之前</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">关于第二个参数参照节点还有几个注意的地方：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（1）refNode是必传的，如果不传该参数会报错</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（2）如果refNode是undefined或null，则insertBefore会将节点添加到子元素的末尾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="7removechild">7.removeChild()<a class="hash-link" href="#7removechild" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">删除指定的子节点并返回</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var deletedChild = parent.removeChild(node);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deletedChild指向被删除节点的引用，它等于node，被删除的节点仍然存在于内存中，可以对其进行下一步操作。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">注意：如果被删除的节点不是其子节点，则程序将会报错。我们可以通过下面的方式来确保可以删除：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if(node.parentNode){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node.parentNode.removeChild(node);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8replacechild">8.replaceChild()<a class="hash-link" href="#8replacechild" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">replaceChild用于使用一个节点替换另一个节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parent.replaceChild(newChild,oldChild);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">newChild是替换的节点，可以是新的节点，也可以是页面上的节点，如果是页面上的节点，则其将被转移到新的位置 oldChild是被替换的节点</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="9节点关系">9.节点关系<a class="hash-link" href="#9节点关系" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.parentNode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.parentElement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3.childre</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4.firstChild</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5.lastChild</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6.hasChildNode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7.previousSibling()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">返回当前节点的前一个兄弟节点,没有则返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Gecko内核的浏览器会在源代码中标签内部有空白符的地方插入一个文本结点到文档中.因此,使用诸如Node.firstChild和Node.previousSibling之类的方法可能会引用到一个空白符文本节点, 而不是使用者所预期得到的节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8.previousElementSiling()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">previousElementSibling返回当前元素在其父元素的子元素节点中的前一个元素节点,如果该元素已经是第一个元素节点,则返回null,该属性是只读的。注意IE9以下浏览器不支持</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9.nextSlibing()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Node.nextSibling是一个只读属性，返回其父节点的childNodes列表中紧跟在其后面的节点，如果指定的节点为最后一个节点，则返回null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Gecko内核的浏览器会在源代码中标签内部有空白符的地方插入一个文本结点到文档中.因此,使用诸如Node.firstChild和Node.previousSibling之类的方法可能会引用到一个空白符文本节点, 而不是使用者所预期得到的节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10.nextElementsilbing()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nextElementSibling返回当前元素在其父元素的子元素节点中的后一个元素节点,如果该元素已经是最后一个元素节点,则返回null,该属性是只读的。注意IE9以下浏览器不支持</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="10元素属性">10.元素属性<a class="hash-link" href="#10元素属性" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.setAttribute()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">设置指定元素上的一个属性值。如果属性已经存在，则更新该值; 否则将添加一个新的属性用指定的名称和值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element.setAttribute(name, value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.getAttribute()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">返回元素上一个指定的属性值。如果指定的属性不存在，则返回null或&quot;&quot;（空字符串）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let attribute = element.getAttribute(attributeName);  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3.removeAttribute()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">从指定的元素中删除一个属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">element.removeAttribute(attrName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a class="hash-link" href="#总结" title="标题的直接链接">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">页面修改型API主要是这四个接口，要注意几个特点：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（1）不管是新增还是替换节点，如果新增或替换的节点是原本存在页面上的，则其原来位置的节点将被移除，也就是说同一个节点不能存在于页面的多个位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">（2）节点本身绑定的事件会不会消失，会一直保留着。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/hijulien/frontend/JavaScript/ES6"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">ES6</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/hijulien/frontend/JavaScript/Fragment"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Fragment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1array" class="table-of-contents__link toc-highlight">1.Array</a></li><li><a href="#2math" class="table-of-contents__link toc-highlight">2.Math</a></li><li><a href="#3object" class="table-of-contents__link toc-highlight">3.Object</a><ul><li><a href="#defineproprety" class="table-of-contents__link toc-highlight">defineProprety</a></li><li><a href="#getownpropertydescriptor" class="table-of-contents__link toc-highlight">getOwnPropertyDescriptor</a></li><li><a href="#getownpropertynames" class="table-of-contents__link toc-highlight">getOwnPropertyNames</a></li></ul></li><li><a href="#4string" class="table-of-contents__link toc-highlight">4.String</a></li><li><a href="#5browser-api" class="table-of-contents__link toc-highlight">5.browser api</a><ul><li><a href="#51-mutationobserver" class="table-of-contents__link toc-highlight">5.1 MutationObserver</a></li><li><a href="#52-mutationrecord" class="table-of-contents__link toc-highlight">5.2 MutationRecord</a></li><li><a href="#53-getboundingclientrect" class="table-of-contents__link toc-highlight">5.3 getBoundingClientRect</a></li><li><a href="#54-intersectionobserver" class="table-of-contents__link toc-highlight">5.4 IntersectionObserver</a></li><li><a href="#55-createnodeiterator" class="table-of-contents__link toc-highlight">5.5 createNodeIterator</a></li><li><a href="#56-getcomputedstyle" class="table-of-contents__link toc-highlight">5.6 getComputedStyle</a></li><li><a href="#57-formdata" class="table-of-contents__link toc-highlight">5.7 FormData</a></li><li><a href="#58-xmlhttprequest" class="table-of-contents__link toc-highlight">5.8 XMLHttpRequest</a></li><li><a href="#mutationobserver" class="table-of-contents__link toc-highlight">MutationObserver</a></li></ul></li><li><a href="#6dom" class="table-of-contents__link toc-highlight">6.dom</a><ul><li><a href="#1createelement" class="table-of-contents__link toc-highlight">1.createElement()</a></li><li><a href="#2clonenode" class="table-of-contents__link toc-highlight">2.cloneNode()</a></li><li><a href="#3createdocumentfragment" class="table-of-contents__link toc-highlight">3.createDocumentFragment()</a></li><li><a href="#4getboundingclientrect" class="table-of-contents__link toc-highlight">4.getBoundingClientRect()</a></li><li><a href="#5appendchild" class="table-of-contents__link toc-highlight">5.appendChild()</a></li><li><a href="#6insertbefore" class="table-of-contents__link toc-highlight">6.insertBefore()</a></li><li><a href="#7removechild" class="table-of-contents__link toc-highlight">7.removeChild()</a></li><li><a href="#8replacechild" class="table-of-contents__link toc-highlight">8.replaceChild()</a></li><li><a href="#9节点关系" class="table-of-contents__link toc-highlight">9.节点关系</a></li><li><a href="#10元素属性" class="table-of-contents__link toc-highlight">10.元素属性</a></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright @ 2023 The way to becoming a god.</div></div></div></footer></div>
<script src="/hijulien/assets/js/runtime~main.5e8e5928.js"></script>
<script src="/hijulien/assets/js/main.f7b4ff16.js"></script>
</body>
</html>